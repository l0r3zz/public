%TAG !! tag:ambientnetworks.net,2018:
---
# All installtool configuration files have the following 4 sections
#hosts:                # Put a list of Hosts that the actions will be applied to
#resources:            # These are files and instaln packabes that live in BLOBDIR
#actions:              # How to do the install
#verify:               # verify that the install was successful

hosts:                # Put a list of Hosts that the actions will be applied to
  #  -
  #  ip : localhost
  #  user : repair
  #  password : fubarbaz

  -
    ip : 52.90.0.128
    user : root
    password : foobarbaz

  -
    ip : 52.90.128.220
    user : root
    password : foobarbaz

  -
    ip : 54.227.113.247
    user : root
    password : foobarbaz

resources:            # These are files and instaln packabes that live in BLOBDIR
  hello :
    type : file-object
    filename : "hello.php"
    user : "root"
    mode : "755"
    destination : "/tmp/helloworld.php"
  phppkg :
    type : package-object
    filename : "php5.deb"
    user : "root"
    mode : "755"
    destination : "/usr/local/bin"

actions:              # How to do the install
  - [ NOP]
  - [INSTALL, resource: hello]
  - [isINSTALLED, "resource:phppkg == true", [[NOP]], [[INSTALL, resource: phppkg]]]
  - [END]


verify:               # verify that the install was successful
